{% extends 'index.html' %}

{% block page_content %}
<div class="container-fluid">  
<div class="row"> 
<div class="col-md-12">
<header>
  <h2 class="form-head mb-3">Update Roster Members of team {{ team.name }} in the league {{ team.league.name }}.</h2>
    <a href="{% url 'view-center-league-by-name' league.bowling_center.name league.name %}">View League</a>
    <a href="{% url 'manage-league' league.bowling_center.name league.name %}">Manage League</a>
</header>        
<h4 class="form-head mb-3">Updating Existing Members:</h4>
<form method="post">
	{% csrf_token %}
    {{ rosterset.management_form }}
    <div class="table-responsive">
    <table class="table table-striped table-bordered table-hover"> 
        <thead class="table-danger">
            <tr class="text-center font-weight-bolder">
                <td>First Name</td><td>Last Name</td> <td> Hand</td> <td>Designation</td> <td>Gender</td><td>Avg</td>
            </tr>
         </thead>
        <tbody class="text-justify table-info font-weight-bolder">
        <tr>
        {% for roster in rosterset %}
            {{ roster.id }}
            <td>{{ roster.first_name }} </td> <td> {{ roster.last_name }} </td> <td> {{ roster.hand }} </td> <td> {{ roster.designation }}</td> <td> {{ roster.gender }} </td><td> {{ roster.average }}</td>
        </tr>
        {% endfor %}
        </tbody>    
    </table>
    </div>    
<input type="hidden" name="update" value="true">
<button type="submit" class="btn btn-univ mb-4">Update Roster</button>
</form>
    
<h4 class="form-head mb-3">Remove Current Member:</h4>
<form method="post">
    {% csrf_token %}
    {{ eremov_form.as_p }}
    
    <input type="hidden" name="remov_existing" value="true">
    <button type="submit" class="btn btn-univ mb-4">Remove from Roster</button>
</form>

    
<h4 class="form-head mb-3"> Add Existing League Bowlers:</h4>
<form method="post">
    {% csrf_token %}
    {{ eadd_form.as_p }}
    
    <input type="hidden" name="add_existing" value="true">
    <button type="submit" class="btn btn-univ mb-4">Add Existing Bowler</button>
</form>
    
    
<h4 class="form-head mb-3">Create New Roster Members </h4>
<form method="post">
    {% csrf_token %}
    {{ new_formset.management_form }}
    <div class="table-responsive">
    <table class="table table-striped table-bordered table-hover"> 
        <thead class="table-danger">
            <tr>
                <td>First Name</td><td>Last Name</td> <td> Hand</td> <td>Designation</td> <td>Gender</td> <td> Avg </td>
            </tr>
         </thead>
        <tbody class="text-justify table-info font-weight-bolder">
        <tr>
        {% for roster in new_formset %}
            {{ roster.id }}
            <td>{{ roster.first_name }} </td> <td> {{ roster.last_name }} </td> <td> {{ roster.hand }} </td> <td> {{ roster.designation }}</td> <td> {{ roster.gender }} </td> <td> {{ roster.average }} </td>
        </tr>
        {% endfor %}
        </tbody>    
    </table>
    </div>    
    <input type="hidden" name="new" value="true">
	<button type="submit" class="btn btn-univ mb-4">Add To Roster</button>
</form>
</div>
</div>
</div>    
{% endblock %}