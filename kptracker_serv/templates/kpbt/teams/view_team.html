{% extends 'index.html' %}

{% block title %}<title>Kingpin Bowling Tracker - View Teams</title>{% endblock %}

{% block page_content %}

 <div class="container-fluid">  
 <div class="row"> 
 <div class="col-md-12">
<header>  
  <h2 class="form-head mb-3"> Viewing {{ team.name }} in the {{ team.league.name }} league</h2>
</header>  
<h4 class="form-head mb-3">Team Stats:</h4>
<div class="table-responsive">     
<table class="table table-striped table-bordered table-hover">
    <thead class="table-danger">
	<tr class="text-center font-weight-bolder">
		<th> Team Points </th> <th> Total Scratch Pins </th> <th> Total Handicap Pins</th> <th> Total Pinfall</th>
    </tr>
    </thead>    
    <tr class="text-justify table-info font-weight-bolder">
    <td> {{ team.team_points }} </td> <td> {{ team.total_scratch_pins }} </td><td> {{ team.total_handicap_pins }} </td>
	   <td> {{ team.total_pinfall }} </td>
	</tr>
</table>
</div>    

<h4 class="form-head mb-3">Bowler Roster:</h4>
<div class="table-responsive">        
<table class="table table-striped table-bordered table-hover">
	{% for bowler in bowlers %}
    
    {% if bowler.user.username %}
	   <tr>	
            <td><a href="{% url 'view-profile-by-username' bowler.user.username %}">{{ bowler.first_name }} {{ bowler.last_name }} </a></td>
		
	   </tr>
    {% else %}
        <tr>
            <td> {{bowler.first_name }}</td>
    </tr>
    {% endif %}
	{% endfor %}

    {% if bowlers|length < team.league.leaguerules.max_roster_size %}
    <tr>
        <td><a href="{% url 'update-roster' team.league.bowling_center.name team.league.name team.name %}"> Add Bowler To Roster</a></td>
    {% endif %}
    </tr>
                    
</table>
</div>
</div>
</div>
</div>
{% endblock %}
	
	